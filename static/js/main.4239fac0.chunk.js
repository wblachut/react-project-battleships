(this["webpackJsonpreact-project-battleships"]=this["webpackJsonpreact-project-battleships"]||[]).push([[0],{19:function(e,a,t){},20:function(e,a,t){},26:function(e,a,t){},27:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);var r=t(0),o=t(2),c=t.n(o),n=t(10),i=t.n(n),s=(t(19),t(20),t(9)),d=t(13),l=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal",r={name:e,size:a,direction:t,hitState:Array(a).fill("o"),hit:function(){var e=r.hitState.findIndex((function(e){return"o"===e}));r.hitState[e]="hit"},isSunk:function(){return!r.hitState.includes("o")}};return r},h=function(e){var a={side:e,board:[],ships:[],shipCount:0,isReady:!1,isGameOver:!1,emptyBoard:function(){return[["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"]]},makeBoard:function(){a.board=a.emptyBoard()},getShips:function(e){var t,r,o,c,n,i,s=[];return"dark"===e?(t=l("TIE-fighter",1),r=l("TIE-fighter",1),o=l("TIE-bomber",2),c=l("TIE-bomber",2),n=l("Star Destroyer",3),i=l("Super Star Destroyer",4),s.push(t,r,o,c,n,i)):(t=l("Shuttle",1),r=l("Shuttle",1),o=l("X-wing",2),c=l("X-wing",2),n=l("Rebel heavy ship",3),i=l("Rebel Super Ship",4),s.push(t,r,o,c,n,i)),s.map((function(e,a){return e.id=a+1})),a.ships=s,s},changeShipDirection:function(e){"horizontal"===e.direction?e.direction="vertical":e.direction="horizontal"},receiveAttack:function(e,t){var r=!0;if("_"===a.board[t-1][e-1]||"*"===a.board[t-1][e-1])a.board[t-1][e-1]="\u2022";else if(Number.isInteger(parseInt(a.board[t-1][e-1]))){var o=parseInt(a.board[t-1][e-1]),c=a.ships[o-1];c.hit(),console.log("hit a ship, field number: ".concat(o,", attacked id: ").concat(c.id)),a.board[t-1][e-1]="\u203b",c.isSunk()&&(console.log("".concat(c.name," was destroyed")),a.markShipArea("\u2022",c),a.shipCount--,a.checkGameOver(),!0===a.isGameOver&&console.log("Game Over"))}else console.log("NOT A LEGAL MOVE"),r=!1;return r&&console.log("move was legal..."),r},checkPlacement:function(e,t,r){var o=!0;if("horizontal"===e.direction){e.size+t-1>10&&(o=!1);for(var c=0;c<3;c++){var n=r-2+c;if(0<=n&&n<=9)for(var i=0;i<e.size+2;i++){var s=t-2+i;0<=s&&s<=9&&"_"!==a.board[n][s]&&(o=!1)}}}else if("vertical"===e.direction){e.size+r-1>10&&(o=!1);for(var d=0;d<3;d++){var l=t-2+d;if(0<=l&&l<=9)for(var h=0;h<e.size+2;h++){var m=r-2+h;0<=m&&m<=9&&"_"!==a.board[m][l]&&(o=!1)}}}return o?console.log("legal place"):console.log("Illegal place!"),o},placeShip:function(e,t,r){a.checkPlacement(e,t,r)&&("horizontal"===e.direction?e.hitState.forEach((function(o,c){a.board[r-1][t-1+c]="".concat(e.id)})):"vertical"===e.direction&&e.hitState.forEach((function(o,c){a.board[r-1+c][t-1]="".concat(e.id)})),a.markShipArea("*",e,t,r),e.onBoard=!0,e.coordinates=[t,r],console.log("".concat(e.name," was placed ").concat(e.direction," on ").concat(e.coordinates)),a.shipCount++,6===a.shipCount&&(a.isReady=!0))},markShipArea:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.coordinates[0],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.coordinates[1];t.hitState.forEach((function(c,n){"horizontal"===t.direction?(o<10&&(a.board[o][r-1+n]="".concat(e)),o>1&&(a.board[o-2][r-1+n]="".concat(e)),r>1&&(o>1&&(a.board[o-2][r-2]="".concat(e)),a.board[o-1][r-2]="".concat(e),o<10&&(a.board[o][r-2]="".concat(e))),r+t.size<10&&(o>1&&(a.board[o-2][r-1+t.size]="".concat(e)),a.board[o-1][r-1+t.size]="".concat(e),o<10&&(a.board[o][r-1+t.size]="".concat(e)))):"vertical"===t.direction&&(r<10&&(a.board[o-1+n][r]="".concat(e)),r>1&&(a.board[o-1+n][r-2]="".concat(e)),o>1&&(r>1&&(a.board[o-2][r-2]="".concat(e)),a.board[o-2][r-1]="".concat(e),r<10&&(a.board[o-2][r]="".concat(e))),o+t.size<10&&(r>1&&(a.board[o-1+t.size][r-2]="".concat(e)),a.board[o-1+t.size][r-1]="".concat(e),r<10&&(a.board[o-1+t.size][r]="".concat(e))))}))},placeShipsAtRandom:function(){for(var e=Object(d.a)(a.ships).reverse();a.shipCount<6;)e.forEach((function(e){a.randomlyPlaceShip(e)}))},randomlyPlaceShip:function(e){if(!0!==e.onBoard){var t=Math.ceil(10*Math.random()),r=Math.ceil(10*Math.random());2*Math.random()>1&&a.changeShipDirection(e),a.placeShip(e,t,r),a.randomlyPlaceShip(e)}},checkGameOver:function(){return console.log("Game over? ",0===a.shipCount),0===a.shipCount&&(a.isGameOver=!0,!0)}};return a},m=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"human",r=arguments.length>3?arguments[3]:void 0,o={name:e,side:a,type:t,gameBoard:r,isWinner:!1,isMakingMove:!1,makeMove:function(e,a,t){return!!e.gameBoard.receiveAttack(a,t)&&(e.gameBoard.receiveAttack(a,t),!0)},makeAIMove:function(e){var a=Math.ceil(10*Math.random()),t=Math.ceil(10*Math.random()),r=e.gameBoard.receiveAttack(a,t);if(console.log(a,t,r),r)return e.gameBoard.receiveAttack(a,t),console.log(e.gameBoard),!0;o.makeAIMove(e)},passMove:function(e){o.isMakingMove=!1,e.isMakingMove=!0},hasWon:function(e){!0===e.isGameOver?o.isWinner=!0:o.isWinner=!1}};return o},p=function(e,a){if("light"===e){var t=h("light side");return t.makeBoard(),t.getShips(),t.placeShipsAtRandom(),m("Jedi Master",e,a,t)}if("dark"===e){var r=h("dark side");return r.makeBoard(),r.getShips("dark"),r.placeShipsAtRandom(),m("Lord Sith",e,a,r)}},_=t(11),u=function(){return Object(r.jsxs)("header",{className:"header",children:[Object(r.jsxs)("div",{className:"header-row",children:[Object(r.jsxs)("h1",{className:"col-sm-8",children:[Object(r.jsx)("span",{className:"title1",children:"SpaceShips "})," "]}),Object(r.jsx)("a",{href:"https://github.com/wblachut/react-project-battleships",className:"gh-btn",children:Object(r.jsx)(_.a,{icon:["fab","github"],className:"gh-icon"})}),Object(r.jsx)("i",{className:"fab fa-github"})]}),Object(r.jsx)("nav",{})]})},b=(t(26),function(e){var a=e.player,t=e.PlayerBoard,o=e.setPlayerBoard,c=e.opponent,n=e.OpponentBoard,i=e.setOpponentBoard,s=function(){a.makeAIMove(c),i(c.gameBoard.board),console.table(n)};return Object(r.jsxs)("div",{className:"".concat(a.side," gameBoard"),children:[Object(r.jsxs)("div",{className:"".concat(a.side," side-title"),children:["The ",a.side," side"]}),Object(r.jsxs)("div",{className:"board-wrapper",children:[Object(r.jsx)("div",{className:"column-description",children:t.map((function(e,a){return Object(r.jsxs)("div",{className:"numbers",children:[" ",[a+1]," "]},[a+1])}))}),Object(r.jsxs)("div",{className:"inner-wrapper",children:[Object(r.jsxs)("div",{className:"".concat(a.side," row-description"),children:[" ",t.map((function(e,a){return Object(r.jsxs)("div",{className:"letters",children:[" ",(a+10).toString(36)," "]},"letter".concat(a))}))]}),Object(r.jsxs)("div",{className:"".concat(a.side," grid-wrapper"),children:[t.map((function(e,n){return e.map((function(e,i){return"human"===a.type?"_"===e||"*"===e?Object(r.jsx)("div",{className:"cell","data-cord":[n+1,i+1]},[n+1,i+1]):Number.isInteger(parseInt(e))?Object(r.jsx)("div",{className:"cell ship ship".concat(e),"data-cord":[n+1,i+1]},[n+1,i+1]):"\u203b"===e?Object(r.jsx)("div",{className:"cell hit ship","data-cord":[n+1,i+1],children:Object(r.jsx)("img",{src:"./images/flame.gif",alt:"aj"})},[n+1,i+1]):Object(r.jsxs)("div",{className:"cell empty","data-cord":[n+1,i+1],children:[" ","\u2022"]},[n+1,i+1]):"\u2022"===e?Object(r.jsxs)("div",{className:"cell empty","data-cord":[n+1,i+1],children:[" ","\u2022"," "]},[n+1,i+1]):"\u203b"===e?Object(r.jsx)("div",{className:"cell hit","data-cord":[n+1,i+1],children:Object(r.jsx)("img",{src:"./images/flame.gif",alt:"a"})},[n+1,i+1]):Object(r.jsx)("div",{className:"cell","data-cord":[n+1,i+1],onClick:function(e){return function(e){var r=e.target.dataset.cord.split(",")[0],n=e.target.dataset.cord.split(",")[1];c.makeMove(a,n,r),o(a.gameBoard.board),console.table(t),s()}(e)},children:" "},[n+1,i+1])}))}))," "]})]})]})]})}),v=c.a.memo(b),j=function(e){return Object(r.jsxs)("div",{className:"game",children:[Object(r.jsx)(v,{player:e.PlayerOne,PlayerBoard:e.PlayerOneBoard,setPlayerBoard:e.setP1Board,opponent:e.PlayerTwo,OpponentBoard:e.PlayerTwoBoard,setOpponentBoard:e.setP2Board}),Object(r.jsx)(v,{player:e.PlayerTwo,opponent:e.PlayerOne,OpponentBoard:e.PlayerOneBoard,setOpponentBoard:e.setP1Board,PlayerBoard:e.PlayerTwoBoard,setPlayerBoard:e.setP2Board})]})},f=(t(27),function(){var e=p("light","human"),a=p("dark","computer"),t=Object(o.useState)(e.gameBoard.board),c=Object(s.a)(t,2),n=c[0],i=c[1],d=Object(o.useState)(a.gameBoard.board),l=Object(s.a)(d,2),h=l[0],m=l[1];return console.clear(),Object(r.jsxs)("div",{children:[Object(r.jsx)(u,{}),Object(r.jsx)(j,{PlayerOne:e,PlayerTwo:a,PlayerOneBoard:n,PlayerTwoBoard:h,setP1Board:i,setP2Board:m}),Object(r.jsx)("div",{className:"stars"}),Object(r.jsx)("div",{className:"twinkling"})]})}),g=t(3),O=t(12),B=t(6);g.b.add(O.a,B.b,B.a),i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(f,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.4239fac0.chunk.js.map