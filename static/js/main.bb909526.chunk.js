(this["webpackJsonpreact-project-battleships"]=this["webpackJsonpreact-project-battleships"]||[]).push([[0],{11:function(e,a,t){},21:function(e,a,t){},22:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){},30:function(e,a,t){"use strict";t.r(a);var o=t(0),r=t(2),c=t.n(r),n=t(12),i=t.n(n),s=(t(21),t(22),t(8)),d=t(15),l=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal",o={name:e,size:a,direction:t,hitState:Array(a).fill("o"),hit:function(){var e=o.hitState.findIndex((function(e){return"o"===e}));o.hitState[e]="hit"},isSunk:function(){return!o.hitState.includes("o")}};return o},h=function(e){var a={side:e,board:[],ships:[],shipCount:0,isReady:!1,isGameOver:!1,emptyBoard:function(){return[["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_","_","_"]]},makeBoard:function(){a.board=a.emptyBoard()},getShips:function(e){var t,o,r,c,n,i,s=[];return"dark"===e?(t=l("TIE-fighter",1),o=l("TIE-fighter",1),r=l("TIE-bomber",2),c=l("TIE-bomber",2),n=l("Star Destroyer",3),i=l("Super Star Destroyer",4),s.push(t,o,r,c,n,i)):(t=l("Shuttle",1),o=l("Shuttle",1),r=l("X-wing",2),c=l("X-wing",2),n=l("Rebel heavy ship",3),i=l("Rebel Super Ship",4),s.push(t,o,r,c,n,i)),s.map((function(e,a){return e.id=a+1})),a.ships=s,s},changeShipDirection:function(e){"horizontal"===e.direction?e.direction="vertical":e.direction="horizontal"},receiveAttack:function(e,t){var o=!0;if("_"===a.board[t-1][e-1]||"*"===a.board[t-1][e-1])a.board[t-1][e-1]="\u2022";else if(Number.isInteger(parseInt(a.board[t-1][e-1]))){var r=parseInt(a.board[t-1][e-1]),c=a.ships[r-1];c.hit(),console.log("hit a ship, field number: ".concat(r,", attacked id: ").concat(c.id)),a.board[t-1][e-1]="\u203b",c.isSunk()&&(console.log("".concat(c.name," was destroyed")),a.markShipArea("\u2022",c),a.shipCount--,a.checkGameOver(),!0===a.isGameOver&&console.log("Game Over"))}else console.log("NOT A LEGAL MOVE"),o=!1;return o&&console.log("move was legal..."),o},checkPlacement:function(e,t,o){var r=!0;if("horizontal"===e.direction){e.size+t-1>10&&(r=!1);for(var c=0;c<3;c++){var n=o-2+c;if(0<=n&&n<=9)for(var i=0;i<e.size+2;i++){var s=t-2+i;0<=s&&s<=9&&"_"!==a.board[n][s]&&(r=!1)}}}else if("vertical"===e.direction){e.size+o-1>10&&(r=!1);for(var d=0;d<3;d++){var l=t-2+d;if(0<=l&&l<=9)for(var h=0;h<e.size+2;h++){var m=o-2+h;0<=m&&m<=9&&"_"!==a.board[m][l]&&(r=!1)}}}return r?console.log("legal place"):console.log("Illegal place!"),r},placeShip:function(e,t,o){a.checkPlacement(e,t,o)&&("horizontal"===e.direction?e.hitState.forEach((function(r,c){a.board[o-1][t-1+c]="".concat(e.id)})):"vertical"===e.direction&&e.hitState.forEach((function(r,c){a.board[o-1+c][t-1]="".concat(e.id)})),a.markShipArea("*",e,t,o),e.onBoard=!0,e.coordinates=[t,o],console.log("".concat(e.name," was placed ").concat(e.direction," on ").concat(e.coordinates)),a.shipCount++,6===a.shipCount&&(a.isReady=!0))},markShipArea:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.coordinates[0],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.coordinates[1];t.hitState.forEach((function(c,n){"horizontal"===t.direction?(r<10&&(a.board[r][o-1+n]="".concat(e)),r>1&&(a.board[r-2][o-1+n]="".concat(e)),o>1&&(r>1&&(a.board[r-2][o-2]="".concat(e)),a.board[r-1][o-2]="".concat(e),r<10&&(a.board[r][o-2]="".concat(e))),o+t.size<10&&(r>1&&(a.board[r-2][o-1+t.size]="".concat(e)),a.board[r-1][o-1+t.size]="".concat(e),r<10&&(a.board[r][o-1+t.size]="".concat(e)))):"vertical"===t.direction&&(o<10&&(a.board[r-1+n][o]="".concat(e)),o>1&&(a.board[r-1+n][o-2]="".concat(e)),r>1&&(o>1&&(a.board[r-2][o-2]="".concat(e)),a.board[r-2][o-1]="".concat(e),o<10&&(a.board[r-2][o]="".concat(e))),r+t.size<10&&(o>1&&(a.board[r-1+t.size][o-2]="".concat(e)),a.board[r-1+t.size][o-1]="".concat(e),o<10&&(a.board[r-1+t.size][o]="".concat(e))))}))},placeShipsAtRandom:function(){for(var e=Object(d.a)(a.ships).reverse();a.shipCount<6;)e.forEach((function(e){a.randomlyPlaceShip(e)}))},randomlyPlaceShip:function(e){if(!0!==e.onBoard){var t=Math.ceil(10*Math.random()),o=Math.ceil(10*Math.random());2*Math.random()>1&&a.changeShipDirection(e),a.placeShip(e,t,o),a.randomlyPlaceShip(e)}},checkGameOver:function(){return console.log("Game over? ",0===a.shipCount),0===a.shipCount&&(a.isGameOver=!0,!0)}};return a},m=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"human",o=arguments.length>3?arguments[3]:void 0,r={name:e,side:a,type:t,gameBoard:o,isWinner:!1,isMakingMove:!1,makeMove:function(e,a,t){return!!e.gameBoard.receiveAttack(a,t)&&(e.gameBoard.receiveAttack(a,t),!0)},makeAIMove:function(e){var a=Math.ceil(10*Math.random()),t=Math.ceil(10*Math.random()),o=e.gameBoard.receiveAttack(a,t);if(console.log(a,t,o),o)return e.gameBoard.receiveAttack(a,t),console.log(e.gameBoard),!0;r.makeAIMove(e)},passMove:function(e){r.isMakingMove=!1,e.isMakingMove=!0},hasWon:function(e){!0===e.isGameOver?r.isWinner=!0:r.isWinner=!1}};return r},u=function(e,a){if("light"===e){var t=h("light side");return t.makeBoard(),t.getShips(),t.placeShipsAtRandom(),m("Jedi Master",e,a,t)}if("dark"===e){var o=h("dark side");return o.makeBoard(),o.getShips("dark"),o.placeShipsAtRandom(),m("Lord Sith",e,a,o)}},p=t(13),b=function(e){return Object(o.jsxs)("header",{className:"header",children:[Object(o.jsxs)("div",{className:"header-row",children:[Object(o.jsxs)("h1",{className:"col-sm-8",children:[Object(o.jsx)("span",{className:"title1",children:"SpaceShips "})," "]}),Object(o.jsx)("a",{href:"https://github.com/wblachut/react-project-battleships",className:"gh-btn",children:Object(o.jsx)(p.a,{icon:["fab","github"],className:"gh-icon"})}),Object(o.jsx)("i",{className:"fab fa-github"})]}),Object(o.jsx)("nav",{})]})},_=(t(11),t(5)),v=(t(28),function(e){var a=e.player,t=e.PlayerBoard,r=e.setPlayerBoard,c=e.opponent,n=e.OpponentBoard,i=e.setOpponentBoard,s=(e.setMoveCount,e.moveCount,function(){a.makeAIMove(c),i(c.gameBoard.board),console.table(n)});return Object(o.jsxs)("div",{className:"".concat(a.side," gameBoard"),children:[Object(o.jsxs)("div",{className:"".concat(a.side," side-title"),children:[" The ",a.side," side "]}),Object(o.jsxs)("div",{className:"board-wrapper",children:[Object(o.jsx)("div",{className:"column-description",children:t.map((function(e,a){return Object(o.jsxs)("div",{className:"numbers",children:[" ",[a+1],"  "]},[a+1])}))}),Object(o.jsxs)("div",{className:"inner-wrapper",children:[Object(o.jsxs)("div",{className:"".concat(a.side," row-description"),children:[" ",t.map((function(e,a){return Object(o.jsxs)("div",{className:"letters",children:[" ",(a+10).toString(36)," "]},"letter".concat(a))}))]}),Object(o.jsxs)("div",{className:"".concat(a.side," grid-wrapper"),children:[t.map((function(e,n){return e.map((function(e,i){return"human"===a.type?"_"===e||"*"===e?Object(o.jsx)("div",{className:"cell","data-cord":[n+1,i+1]},[n+1,i+1]):Number.isInteger(parseInt(e))?Object(o.jsx)("div",{className:"cell ship ship".concat(e),"data-cord":[n+1,i+1]},[n+1,i+1]):"\u203b"===e?Object(o.jsx)("div",{className:"cell hit ship","data-cord":[n+1,i+1],children:Object(o.jsx)("img",{src:"./images/flame.gif",alt:"aj"})},[n+1,i+1]):Object(o.jsx)("div",{className:"cell empty","data-cord":[n+1,i+1],children:" \u2022"},[n+1,i+1]):"\u2022"===e?Object(o.jsx)("div",{className:"cell empty","data-cord":[n+1,i+1],children:" \u2022 "},[n+1,i+1]):"\u203b"===e?Object(o.jsx)("div",{className:"cell hit","data-cord":[n+1,i+1],children:Object(o.jsx)("img",{src:"./images/flame.gif",alt:"a"})},[n+1,i+1]):Object(o.jsx)("div",{className:"cell","data-cord":[n+1,i+1],onClick:function(e){return function(e){var o=e.target.dataset.cord.split(",")[0],n=e.target.dataset.cord.split(",")[1];c.makeMove(a,n,o),r(a.gameBoard.board),console.table(t),console.log(r),s()}(e)},children:" "},[n+1,i+1])}))}))," "]})]})]})]})}),j=c.a.memo(v),f=function(e){return Object(o.jsxs)("div",{className:"game",children:[Object(o.jsx)(j,Object(_.a)(Object(_.a)({},e),{},{player:e.PlayerOne,PlayerBoard:e.PlayerOneBoard,setPlayerBoard:e.setP1Board,opponent:e.PlayerTwo,OpponentBoard:e.PlayerTwoBoard,setOpponentBoard:e.setP2Board})),Object(o.jsx)(j,Object(_.a)(Object(_.a)({},e),{},{player:e.PlayerTwo,opponent:e.PlayerOne,OpponentBoard:e.PlayerOneBoard,setOpponentBoard:e.setP1Board,PlayerBoard:e.PlayerTwoBoard,setPlayerBoard:e.setP2Board,setMoveCount:e.setMoveCount,moveCount:e.moveCount}))]})},O=(t(29),function(){var e=u("light","human"),a=u("dark","computer"),t=Object(r.useState)(e.gameBoard.board),c=Object(s.a)(t,2),n=c[0],i=c[1],d=Object(r.useState)(a.gameBoard.board),l=Object(s.a)(d,2),h=l[0],m=l[1];console.clear();var p=Object(r.useState)(0),_=Object(s.a)(p,2);_[0],_[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(b,{}),Object(o.jsx)(f,{PlayerOne:e,PlayerTwo:a,PlayerOneBoard:n,PlayerTwoBoard:h,setP1Board:i,setP2Board:m}),Object(o.jsx)("div",{className:"stars"}),Object(o.jsx)("div",{className:"twinkling"})]})}),g=t(3),B=t(14),S=t(7);g.b.add(B.a,S.b,S.a),i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(O,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.bb909526.chunk.js.map